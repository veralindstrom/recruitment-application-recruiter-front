
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Filter Page</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
          integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" th:href="@{/css/main.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/fragment.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/button.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/filter.css}"/>
</head>
<body style="width: 100%; text-align: center;">
<div th:include="fragments/header :: header"></div>


<div class="shadow bg-light filter-form">
    <div class="row filter-row">
        <div class="row row-col-5">
            <div class="col">
                <div class="table-responsive">
                    <form id="filterFormL" th:action="@{/filter}" method="post" th:object="${filter}" name="filterForm">
                        <table class="table table-large">
                            <thead>
                            <tr>
                                <th>Competence</th>
                                <th>Name</th>
                                <th>Available From</th>
                                <th>Available To</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>
                                    <select th:field="*{competence}" onclick="showClearFilterBtn(); showFilterBtnL()" id="competenceL" class="custom-select" name="competence" field="competences" onchange="filterCompetenceL()">
                                        <option th:each="compitem : ${competences}" th:value="${compitem.competence}"
                                                th:text="${compitem.competence}"></option>
                                    </select>
                                </td>
                                <td>
                                    <input th:placeholder="${oldName}" th:field="*{name}" onclick="showClearFilterBtn(); showFilterBtnL()" id="nameL" type="text" class="form-control" field="name" onkeyup="filterNameL()">
                                </td>
                                <td>
                                    <input th:field="*{dateFrom}" onclick="showClearFilterBtn(); showFilterBtnL()" id="dateFromL" type="date" class="form-control" field="dateFrom" onchange="filterDateFromL()">
                                </td>
                                <td>
                                    <input th:field="*{dateTo}" onclick="showClearFilterBtn(); showFilterBtnL()" id="dateToL" type="date" class="form-control" field="dateTo" onchange="filterDateToL()">
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <input id="filterAllL" class="btn-competence btn btn-primary btn-filter btn-filterAll" type="submit" value="Filter All"/>
                    </form>
                        <form id="filterFormM" th:action="@{/filter}" method="post" th:object="${filter}" name="filterForm">
                        <table class="table-medium">
                            <thead>
                            <tr class="tbody-row head">
                                <th>Competence</th>
                                <th>Name</th>
                            </tr>
                            </thead>
                            <tbody id="tbl-medium-top">
                            <tr class="tbody-row">
                                <td>
                                    <select onclick="showClearFilterBtn(); showFilterBtnM()" id="competenceM" class="custom-select" name="competence" field="competences" onchange="filterCompetenceM()">
                                        <option th:field="*{competence}" th:each="compitem: ${competences}" th:value="${compitem}"
                                                th:text="${compitem}"></option>
                                    </select>
                                </td>
                                <td>
                                    <input th:placeholder="${oldName}" th:field="*{name}" onclick="showClearFilterBtn(); showFilterBtnM()" id="nameM" type="text" class="custom-select form-control" field="name" onkeyup="filterNameM()">
                                </td>
                            </tr>
                            </tbody>
                            <thead>
                            <tr class="tbody-row head">
                                <th>Available From</th>
                                <th>Available To</th>
                            </tr>
                            </thead>
                            <tbody id="tbl-medium-bottom">
                            <tr class="tbody-row">
                                <td>
                                    <input th:field="*{dateFrom}" onclick="showClearFilterBtn(); showFilterBtnM()" id="dateFromM" type="date" class="custom-select form-control" field="dateFrom" onchange="filterDateFromM()">
                                </td>
                                <td>
                                    <input th:field="*{dateTo}" onclick="showClearFilterBtn(); showFilterBtnM()" id="dateToM" type="date" class="custom-select form-control" field="dateTo" onchange="filterDateToM()">
                                </td>
                            </tr>
                            </tbody>
                        </table>
                            <input id="filterAllM" class="btn-competence btn btn-primary btn-filter btn-filterAll" type="submit" value="Filter All"/>
                        </form>
                            <form id="filterFormS" th:action="@{/filter}" method="post" th:object="${filter}" name="filterForm">
                        <table class="table-small">
                            <thead>
                            <tr class="tbody-row">
                                <th>Filter</th>
                            </tr>
                            </thead>
                            <tbody id="tbl-small-top">
                            <tr class="tbody-row">
                                <th>Competence</th>
                            </tr>
                            <tr class="tbody-row">
                                <td>
                                    <select th:field="*{competence}" onclick="showClearFilterBtn(); showFilterBtnS()" id="competenceS" class="custom-select" name="competence" field="competences" onchange="filterCompetenceS()">
                                        <option th:each="compitem: ${competences}" th:value="${compitem}"
                                                th:text="${compitem}"></option>
                                    </select>
                                </td>
                            </tr>
                            <tr class="tbody-row">
                                <th>Name</th>
                            </tr>
                            <tr class="tbody-row">
                                <td>
                                    <input th:placeholder="${oldName}" th:field="*{name}" onclick="showClearFilterBtn(); showFilterBtnS()" id="nameS" type="text" class="custom-select form-control" field="name" onkeyup="filterNameS()">
                                </td>
                            </tr>
                            </tbody>
                            <tbody id="tbl-small-bottom">
                            <tr class="tbody-row">
                                <th>Available From</th>
                            </tr>
                            <tr class="tbody-row">
                                <td>
                                    <input th:field="*{dateFrom}" onclick="showClearFilterBtn(); showFilterBtnS()" id="dateFromS" type="date" class="custom-select form-control" field="dateFrom" onchange="filterDateFromS()">
                                </td>
                            </tr>
                            <tr class="tbody-row">
                                <th>Available To</th>
                            </tr>
                            <tr class="tbody-row">
                                <td>
                                    <input th:field="*{dateTo}" onclick="showClearFilterBtn(); showFilterBtnS()" id="dateToS" type="date" class="custom-select form-control" field="dateTo" onchange="filterDateToS()">
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <input id="filterAllS" class="btn-competence btn btn-primary btn-filter btn-filterAll" type="submit" value="Filter All" />
                    </form>
                </div>
            </div>
        </div>
        <!--input id="filterAllL" form="filterFormL" class="btn-competence btn btn-primary btn-filter" type="submit" value="Filter All"/>
        <input id="filterAllM" form="filterFormM" class="btn-competence btn btn-primary btn-filter" type="submit" value="Filter All"/>
        <input id="filterAllS" form="filterFormS" class="btn-competence btn btn-primary btn-filter" type="submit" value="Filter All"/-->
        <button onclick="clearFilter()" id="clearFilter" type="submit" class="btn-competence btn btn-primary btn-filter">Clear Filter</button>
    </div>
</div>

<div class="shadow bg-light filter-form-list">
    <div class="row filter-row-list">
        <div class="row row-col-5">
            <div class="col">
                <div class="table-responsive">
                    <table class="table table-large-list">
                        <thead>
                        <tr>
                            <th class="frozen">Applicant</th>
                            <th>Competence</th>
                            <th>Experience</th>
                            <th>Available From</th>
                            <th>Available To</th>
                            <th>Status</th>
                        </tr>
                        </thead>
                        <tbody id="appList" th:each="app, index : ${applicationList}">
                        <tr class="applicationRow" th:id="'applicationRow' + ${index.index}">
                            <td class="frozen">
                                <a th:href="@{/application/{id}(id=${app.id})}"
                                   th:text="${applicant.name}"></a>
                            </td>
                            <td>
                                <div th:each="comp :  ${app.competences}">
                                    <div th:text="${comp.getCompetence()}"></div>
                                </div>
                            </td>
                            <td>
                                <div th:each="comp :  ${app.competences}">
                                    <div th:text="${comp.getYearsExperience()}"></div>
                                </div>
                            </td>
                            <td>
                                <div th:text="${app.dateFrom}"></div>
                            </td>
                            <td>
                                <div th:text="${app.dateTo}"></div>
                            </td>
                            <td>
                                <span th:if="${app.state == 'UNHANDLED'}" class="title-status status-icon"><img
                                        src="https://img.icons8.com/ios/55/000000/question--v2.png"/></span>
                                <span th:if="${app.state == 'REJECTED'}" class="title-status status-icon"><svg
                                        xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                                        width="64" height="64"
                                        viewBox="0 0 512 512"
                                        style=" fill:#000000;"><path fill="#E04F5F"
                                                                     d="M504.1,256C504.1,119,393,7.9,256,7.9C119,7.9,7.9,119,7.9,256C7.9,393,119,504.1,256,504.1C393,504.1,504.1,393,504.1,256z"></path><path
                                        fill="#FFF"
                                        d="M285,256l72.5-84.2c7.9-9.2,6.9-23-2.3-31c-9.2-7.9-23-6.9-30.9,2.3L256,222.4l-68.2-79.2c-7.9-9.2-21.8-10.2-31-2.3c-9.2,7.9-10.2,21.8-2.3,31L227,256l-72.5,84.2c-7.9,9.2-6.9,23,2.3,31c4.1,3.6,9.2,5.3,14.3,5.3c6.2,0,12.3-2.6,16.6-7.6l68.2-79.2l68.2,79.2c4.3,5,10.5,7.6,16.6,7.6c5.1,0,10.2-1.7,14.3-5.3c9.2-7.9,10.2-21.8,2.3-31L285,256z"></path></svg>
                                    </span>
                                <span th:if="${app.state == 'ACCEPTED'}" class="title-status status-icon"><img
                                        src="https://img.icons8.com/color/65/000000/approval--v3.png"/></span>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <div id="listLength" th:value="${length}" th:text="${length}" style="display: none">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

    <script type="text/javascript" th:src="@{/js/filter.js}" ></script>
    <!--script src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
            integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
            crossorigin="anonymous"></script-->

</body>
</html>